import{r as u,W as w,j as e,Y as C,a as y}from"./app-7W61euDS.js";import{A as F}from"./AuthenticatedLayout-DJG28nJV.js";import{I as i}from"./InputError-BPD8njQw.js";import{I as o}from"./InputLabel-CJrYO0eR.js";import{P}from"./PrimaryButton-v8X5vlqF.js";import{T as m}from"./TextInput-fr95fOJq.js";import{S}from"./SecondaryButton-BsRcgEzN.js";import{T as I}from"./Toggle-BgeEu5hT.js";import{S as O}from"./Selectbox-Cabe1NYL.js";import{z as T}from"./transition-BmXwWH4e.js";import"./ApplicationLogo-PxNadPw-.js";import"./index-44l3KjNd.js";function J({auth:h,product:s,kategori:x}){const g=s.opname,[d,p]=u.useState(g),{data:r,setData:t,post:j,errors:l,processing:k,recentlySuccessful:v}=w({nama_produk:s.nama_produk,kd_produk:s.kd_produk,kategori:s.pemilik_id,harga:s.harga,harga_beli:s.harga_beli,opname:s.opname,stok:s.stok,foto:s.foto}),f=a=>{a.preventDefault(),j(route("products.update",s.id),{preserveScroll:!0,onSuccess:()=>{alert("Product new Created")},onError:n=>{alert("Product not created")}})},[c,N]=u.useState(null),b=a=>{const n=a.target.files[0];n&&(N(URL.createObjectURL(n)),t("foto",n))},_=()=>{const a=d==="N"?"Y":"N";p(a),t("stok",a==="N"?"0":r.stok),t("opname",a)};return e.jsxs(F,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Create"}),children:[e.jsx(C,{title:"Produk"}),e.jsx("div",{className:"py-12 w-full ",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm h-full",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs("section",{className:"",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create Products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new products."})]}),e.jsxs("form",{onSubmit:f,className:"mt-6 grid grid-cols-2 gap-4  ",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(o,{htmlFor:"foto",value:"foto"}),c===null?e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:r.foto,alt:"Preview",className:"w-32 h-32 mb-4 object-cover rounded"})}):e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 mb-4 object-cover rounded"})}),e.jsx(m,{id:"foto",type:"file",className:"mt-5 block w-full",onChange:b,isFocused:!0,autoComplete:"foto"}),e.jsx(i,{className:"mt-2",message:l.foto})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"kd_produk",value:"Kode Produk"}),e.jsx(m,{id:"kd_produk",className:"mt-1 block w-full",value:r.kd_produk,onChange:a=>t("kd_produk",a.target.value),required:!0,isFocused:!0,autoComplete:"kd_produk",readOnly:!0}),e.jsx(i,{className:"mt-2",message:l.kd_produk})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"nama_produk",value:"Nama Produk"}),e.jsx(m,{id:"nama_produk",className:"mt-1 block w-full",value:r.nama_produk,onChange:a=>t("nama_produk",a.target.value),required:!0,isFocused:!0,autoComplete:"nama_produk"}),e.jsx(i,{className:"mt-2",message:l.nama_produk})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"harga_beli",value:"Harga Beli"}),e.jsx(m,{id:"harga_beli",type:"number",className:"mt-1 block w-full",value:r.harga_beli,onChange:a=>t("harga_beli",a.target.value),required:!0,autoComplete:"harga_beli"}),e.jsx(i,{className:"mt-2",message:l.harga_beli})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"harga",value:"Harga Jual"}),e.jsx(m,{id:"harga",type:"number",className:"mt-1 block w-full",value:r.harga,onChange:a=>t("harga",a.target.value),required:!0,autoComplete:"harga"}),e.jsx(i,{className:"mt-2",message:l.harga})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"kategori",value:"Kategori"}),e.jsx(O,{onChange:a=>t("kategori",a.target.value),id:"kategori",currentValue:r.kategori,options:x,className:"w-full",placeholder:"Pilih Kategori ..."}),e.jsx(i,{className:"mt-2",message:l.kategori})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"opname",value:"Opname"}),e.jsx(I,{isOn:d,handleToggle:_})]}),e.jsxs("div",{className:`${d==="Y"?"":"hidden"}`,children:[e.jsx(o,{htmlFor:"stok",value:"Stok"}),e.jsx(m,{id:"stok",value:r.stok,onChange:a=>t("stok",a.target.value),type:"number",className:"mt-1 block w-full",autoComplete:"stok"}),e.jsx(i,{message:l.stok,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{disabled:k,children:"Save"}),e.jsx(y,{rel:"stylesheet",href:route("products"),children:e.jsx(S,{children:"Cancel"})}),e.jsx(T,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})})})})})]})}export{J as default};
