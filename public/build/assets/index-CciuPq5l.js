import{r as n,j as e,Y as j,a as I}from"./app-uKCG8lby.js";import{S as N,P as S}from"./SearchTable-BJ0HXfEp.js";import"./Dropdown-DA5GSs3m.js";import"./numeral-CZkozHNw.js";import C from"./Cart-D-b2zXzl.js";import v from"./Product-YSMrb0G4.js";import b from"./Kategori-CmMeUAfD.js";import y from"./CartMobile-QjLbYjf2.js";import"./TextInput-sN_-O8ft.js";import"./transition-Bjk1KgOc.js";function Q({auth:O,data:i,filters:o}){const[l,m]=n.useState([]),[x,c]=n.useState(0),[g,h]=n.useState(!1);n.useEffect(()=>{const s=localStorage.getItem("cardItems");if(s){const a=JSON.parse(s);m(a)}},[]);const f=(s,a)=>{if(!l.some(t=>t.id===s.id)){const t=[...l,s];localStorage.setItem("cardItems",JSON.stringify(t)),m(t),c(t.length)}},d=s=>{const r=(JSON.parse(localStorage.getItem("cardItems"))||[]).filter(t=>t.id!==s.id);localStorage.setItem("cardItems",JSON.stringify(r)),m(r),c(r.length)},u=s=>{s.target.onerror=null,s.target.src="/image/image.png"};n.useEffect(()=>{const s=JSON.parse(localStorage.getItem("cardItems"))||[];c(s.length);const a=()=>{const r=JSON.parse(localStorage.getItem("cardItems"))||[];c(r.length)};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[]);const p=()=>{h(!g)};return e.jsxs("div",{className:"bg-[#F8F8F8]",children:[e.jsx(j,{title:"POS"}),e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[e.jsx("div",{className:"col-span-5 lg:col-span-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"ml-9",children:[e.jsx(I,{href:"/dashboard",className:"text-xl",children:e.jsx("i",{className:"fas fa-home text-[#F46700]  "})}),e.jsxs("button",{href:"/dashboard",className:"relative text-xl float-end mr-8 lg:hidden",onClick:p,children:[e.jsx("i",{className:"fa-solid fa-cart-shopping text-[#F46700] "}),e.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:x})]}),e.jsx(y,{isOpen:g,toggleSidebar:p,cardItems:l,removeFromCards:d})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 sm:grid-cols-4",children:[e.jsxs("div",{className:" sm:col-span-2 col-span-3 mb-2 p-4",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 text-left ml-4 font-mona",children:"Welcome , POS"}),e.jsx("p",{className:"ml-4 text-gray-400 font-mona",children:"Discover whatever you need easily"})]}),e.jsx(N,{filters:o,routes:"pos",className:"w-full   sm:mt-4 mt-2 px-8 col-span-4 sm:col-span-2 lg:col-span-1",placeholder:"Search product..."})]}),e.jsx(b,{pemilik:i.pemilik,filters:o}),e.jsx(v,{data:i,handleCartClick:f,cardItems:l,handleImageError:u,removeFromCards:d}),e.jsx(S,{links:i.produk.links,searchQuery:o.search,paginate:o.paginate,url:`kat=${o.kategori}`})]})}),e.jsx(C,{cardItems:l,removeFromCards:d})]})})]})}export{Q as default};
